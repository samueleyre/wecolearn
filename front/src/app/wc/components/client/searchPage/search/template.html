<div id="possibleMatchesContainer" class="container-fluid">
    <div class="row">
        <div class="col-sm-10 col-10">

            <div class="row">

                <div class="offset-sm-1 col-sm-10 col-12">


                    <div *ngIf="cards"  class="row"
                       infiniteScroll
		                  [infiniteScrollDistance]="4"
		                  [infiniteScrollThrottle]="50"
		                  (scrolled)="onScroll()"
                      (scrolledUp)="onScrollUp()" >

                      <div *ngIf="!cards[0]"  class="emptyCardsMessage col-12">
                        <p>Mince, nous n'avons pas trouvé de profils qui correspondent à vos critères... Pour étendre le champs de recherche, n'hésitez pas à ajouter des tags dans votre profil !  </p>
                      </div>

                        <div *ngFor="let card of cards" class="card-container col-12 col-sm-12 col-md-6 col-lg-6">
                            <div class="card">
                                <div class="titleContainer container-fluid">

                                    <div class="row">
                                        <div class="col-4 no-padding imageContainer" *ngIf="card[0].image">
                                            <img width="100%" *ngIf="card[0].image.filename" src="{{avatarSrcBase}}{{card[0].image.filename}}" alt="">
                                        </div>
                                        <div class="col-4 no-padding imageContainer" *ngIf="!card[0].image">
                                          <img width="100%" src="{{avatarSrcBase}}{{baseImageName}}" alt="">
                                          <!--<img width="100%" src="{{avatarSrcBase}}{{card[0].image.filename}}" alt="">-->
                                        </div>

                                        <div class="col-8">
                                            <h5 class="">{{card[0].first_name}} {{card[0].last_name}}</h5>
                                            <div class="tagContainer" *ngIf="card[0].tags">
                                                <div *ngFor="let tag of card[0].tags">
                                                  <div class="tag" *ngIf="tag.type === '0'">
                                                    <span>{{tag.name}}</span>
                                                  </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="bioContainer">
                                    <p class="" [innerHTML]="card[0].biographie" ></p>
                                </div>

                                <div class="chatButtonContainer">
                                    <button *ngIf="openChat" class="btn" (click)="openThread(card[0])">
                                       <i class="fa fa-comment"></i> {{openChat}}
                                    </button>
                                    <a *ngIf="logged && card[0].slack_id && card[0].domain === currentClient.domain" target="_blank" href="https://bricodeurs.slack.com/messages/@{{card[0].slack_id}}">
                                      <button class="btn" >
                                        <img class="slackIcon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSI2MHB4IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA2MCA2MCIgd2lkdGg9IjYwcHgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZS8+PGRlc2MvPjxkZWZzLz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIj48ZyBpZD0iU29jaWFsX2ljb25zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTIxLjAwMDAwMCwgLTEwNTQuMDAwMDAwKSI+PGcgaWQ9IlNsYWNrIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MjEuMDAwMDAwLCAxMDU0LjAwMDAwMCkiPjxwYXRoIGQ9Ik0wLDMwIEMwLDEzLjQzMTQ1NjcgMTMuNDMxNDU2NywwIDMwLDAgQzQ2LjU2ODU0MzMsMCA2MCwxMy40MzE0NTY3IDYwLDMwIEM2MCw0Ni41Njg1NDMzIDQ2LjU2ODU0MzMsNjAgMzAsNjAgQzEzLjQzMTQ1NjcsNjAgMCw0Ni41Njg1NDMzIDAsMzAgWiIgZmlsbD0iI0ZGRkZGRiIgaWQ9ImJhY2siLz48ZyBpZD0iR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0LjAwMDAwMCwgMTQuMDAwMDAwKSI+PHBhdGggZD0iTTIwLjc0NTQ0MjYsMS45Nzk4MDMyNyBDMjAuMjU5MTQ3NSwwLjQ4Mjg4NTI0NiAxOC42NTE1NDEsLTAuMzM2MjYyMjk1IDE3LjE1NDg4NTMsMC4xNTAyOTUwODIgQzE1LjY1Nzk2NzMsMC42MzY1OTAxNjQgMTQuODM4ODE5NiwyLjI0NDE5NjcyIDE1LjMyNTM3NywzLjc0MDg1MjQ2IEwyMi42OTM3NzA1LDI2LjQxMTU0MSBDMjMuMTk5NzM3OCwyNy44MDk4MzYxIDI0LjcxMDI5NTEsMjguNTk1NjcyMSAyNi4xNjAyNjIzLDI4LjE3ODM2MDYgQzI3LjY3MjY1NTgsMjcuNzQyOTUwOSAyOC41OTQ2MjMsMjYuMTM2NjU1NyAyOC4xMTIsMjQuNjUxMjc4NyBDMjguMDkzNjM5NCwyNC41OTQ2MjMgMjAuNzQ1NDQyNiwxLjk3OTgwMzI3IDIwLjc0NTQ0MjYsMS45Nzk4MDMyNyIgZmlsbD0iI0RGQTIyRiIgaWQ9IlNoYXBlIi8+PHBhdGggZD0iTTkuMzI4MjYyMyw1LjY4OTQ0MjYzIEM4Ljg0MTcwNDkxLDQuMTkyNzg2ODkgNy4yMzQwOTgzNiwzLjM3MzYzOTM1IDUuNzM3NDQyNjMsMy44NTk5MzQ0MyBDNC4yNDA1MjQ1OSw0LjM0NjIyOTUxIDMuNDIxMzc3MDUsNS45NTM4MzYwNiAzLjkwNzkzNDQzLDcuNDUwNzU0MSBMMTEuMjc2MzI3OSwzMC4xMjE0NDI2IEMxMS43ODIyOTUxLDMxLjUxOTczNzggMTMuMjkyODUyNSwzMi4zMDU1NzM4IDE0Ljc0MjgxOTYsMzEuODg4IEMxNi4yNTUyMTMxLDMxLjQ1Mjg1MjUgMTcuMTc3MTgwNCwyOS44NDY1NTc0IDE2LjY5NDU1NzQsMjguMzYwOTE4IEMxNi42NzYxOTY4LDI4LjMwNDUyNDYgOS4zMjgyNjIzLDUuNjg5NDQyNjMgOS4zMjgyNjIzLDUuNjg5NDQyNjMiIGZpbGw9IiMzQ0IxODciIGlkPSJTaGFwZSIvPjxwYXRoIGQ9Ik0zMC4wMjAxOTY4LDIwLjc1NTY3MjEgQzMxLjUxNzExNDgsMjAuMjY5Mzc3IDMyLjMzNiwxOC42NjE3NzA1IDMxLjg0OTcwNDksMTcuMTY0ODUyNSBDMzEuMzYzNDA5OSwxNS42NjgxOTY4IDI5Ljc1NTgwMzMsMTQuODQ5MDQ5MSAyOC4yNTkxNDc1LDE1LjMzNTM0NDMgTDUuNTg4NDU5MDEsMjIuNzA0IEM0LjE5MDE2Mzk0LDIzLjIwOTcwNDkgMy40MDQzMjc4OCwyNC43MjAyNjIzIDMuODIxNjM5MzUsMjYuMTcwMjI5NSBDNC4yNTcwNDkxOCwyNy42ODI2MjMgNS44NjMzNDQyNiwyOC42MDQ1OTAxIDcuMzQ4NzIxMzEsMjguMTIxOTY3MyBDNy40MDUzNzcwNSwyOC4xMDM2MDY1IDMwLjAyMDE5NjgsMjAuNzU1NjcyMSAzMC4wMjAxOTY4LDIwLjc1NTY3MjEiIGZpbGw9IiNDRTFFNUIiIGlkPSJTaGFwZSIvPjxwYXRoIGQ9Ik0xMC4zMTM0NDI2LDI3LjE1ODgxOTYgQzExLjc4OTExNDgsMjYuNjc5MzQ0MyAxMy42OTEwMTY0LDI2LjA2MTM3NyAxNS43MzE5MzQ0LDI1LjM5ODI5NTEgQzE1LjI1MjQ1OSwyMy45MjI2MjMgMTQuNjM0NDkxOCwyMi4wMjA0NTkgMTMuOTcxMTQ3NSwxOS45NzkyNzg4IEw4LjU1MjM5MzQ0LDIxLjc0MDU5MDEgTDEwLjMxMzQ0MjYsMjcuMTU4ODE5NiIgZmlsbD0iIzM5MjUzOCIgaWQ9IlNoYXBlIi8+PHBhdGggZD0iTTIxLjczMDg4NTMsMjMuNDQ4OTE4IEMyMy43Nzk0MDk5LDIyLjc4MzQ3NTQgMjUuNjgzNDA5OSwyMi4xNjQ3MjEzIDI3LjE0OTM3NywyMS42ODgzOTM1IEMyNi42Njk5MDE2LDIwLjIxMjcyMTMgMjYuMDUxNjcyMSwxOC4zMTAwMzI4IDI1LjM4ODMyNzksMTYuMjY4MzI3OSBMMTkuOTY5NTczOCwxOC4wMjk2Mzk0IEwyMS43MzA4ODUzLDIzLjQ0ODkxOCIgZmlsbD0iI0JCMjQyQSIgaWQ9IlNoYXBlIi8+PHBhdGggZD0iTTI2LjMxMDU1NzQsOS4zMzgyMjk1MSBDMjcuODA3MjEzMSw4Ljg1MTkzNDQzIDI4LjYyNjM2MDYsNy4yNDQzMjc4OCAyOC4xNDAwNjU2LDUuNzQ3NDA5ODQgQzI3LjY1Mzc3MDUsNC4yNTA3NTQxIDI2LjA0NjE2MzksMy40MzE2MDY1NiAyNC41NDkyNDU5LDMuOTE3OTAxNjQgTDEuODc4NTU3MzcsMTEuMjg2NTU3NCBDMC40ODAyNjIyOTUsMTEuNzkyMjYyMyAtMC4zMDU1NzM3NywxMy4zMDI4MTk2IDAuMTEyLDE0Ljc1Mjc4NjkgQzAuNTQ3MTQ3NTQxLDE2LjI2NTE4MDQgMi4xNTM0NDI2MiwxNy4xODcxNDc1IDMuNjM5MDgxOTYsMTYuNzA0NTI0NiBDMy42OTU0NzU0MSwxNi42ODYxNjM5IDI2LjMxMDU1NzQsOS4zMzgyMjk1MSAyNi4zMTA1NTc0LDkuMzM4MjI5NTEiIGZpbGw9IiM3MkM1Q0QiIGlkPSJTaGFwZSIvPjxwYXRoIGQ9Ik02LjYwMjc1NDEsMTUuNzQxNjM5NCBDOC4wNzg0MjYyMywxNS4yNjIxNjM5IDkuOTgwODUyNDYsMTQuNjQzOTM0NCAxMi4wMjIwMzI4LDEzLjk4MDg1MjUgQzExLjM1NjU5MDIsMTEuOTMyMDY1NiAxMC43Mzc4MzYxLDEwLjAyODA2NTYgMTAuMjYxNTA4Miw4LjU2MTgzNjA2IEw0Ljg0MTQ0MjYzLDEwLjMyMzQwOTggTDYuNjAyNzU0MSwxNS43NDE2Mzk0IiBmaWxsPSIjMjQ4QzczIiBpZD0iU2hhcGUiLz48cGF0aCBkPSJNMTguMDE5OTM0NCwxMi4wMzIgQzIwLjA2ODk4MzYsMTEuMzY2Mjk1MSAyMS45NzMyNDU5LDEwLjc0NzU0MSAyMy40Mzk0NzU0LDEwLjI3MDk1MDggQzIyLjc3Mzc3MDUsOC4yMjE5MDE2NCAyMi4xNTUwMTY0LDYuMzE3Mzc3MDUgMjEuNjc4NDI2Miw0Ljg1MDg4NTI1IEwxNi4yNTg2MjMsNi42MTI0NTkwMSBMMTguMDE5OTM0NCwxMi4wMzIiIGZpbGw9IiM2MjgwM0EiIGlkPSJTaGFwZSIvPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=" alt="">
                                        Discutons sur slack !
                                      </button>
                                    </a>
                                </div>



                            </div>


                        </div>

                    </div>




                </div>

            </div>
            <div id="searchLoader" *ngIf="loading | async"  class="row center">
            <!--<img src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />-->
              <svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.0" width="64px" height="64px" viewBox="0 0 128 128" xml:space="preserve"><rect x="0" y="0" width="100%" height="100%" /><g><linearGradient id="linear-gradient"><stop offset="0%" stop-color="#ffffff" fill-opacity="0"/><stop offset="100%" stop-color="#fe5f38" fill-opacity="1"/></linearGradient><path d="M63.85 0A63.85 63.85 0 1 1 0 63.85 63.85 63.85 0 0 1 63.85 0zm.65 19.5a44 44 0 1 1-44 44 44 44 0 0 1 44-44z" fill="url(#linear-gradient)" fill-rule="evenodd"/><animateTransform attributeName="transform" type="rotate" from="0 64 64" to="360 64 64" dur="1080ms" repeatCount="indefinite"></animateTransform></g></svg>
            </div>

        </div>
        <div id="conversationColumn" class="col-2">
            <chat-threads></chat-threads>
        </div>
    </div>

</div>

<div class="container">
    <chat-window></chat-window>
</div>
